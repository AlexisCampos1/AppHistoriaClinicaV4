{"ast":null,"code":"import * as yup from \"yup\";\nimport { exists_DNI } from \"../services/api-dni\";\nimport { exists_CMP } from \"../services/cmp\";\nexport var singinValidationScheme = yup.object().shape({\n  nombres: yup.string().required(),\n  apellidos: yup.string().required(),\n  password: yup.string().required(),\n  confirm_password: yup.string().required(),\n  email: yup.string().email().required(),\n  codigo_doctor: yup.string().required().test(\"CMP-MAX-8\", \"El CMP debe tener 6 digitos\", function (value) {\n    if (value === undefined) {\n      return this.createError();\n    }\n\n    return value.length === 6 || this.createError();\n  }).test(\"Validar CMP\", \"El codigo ingresado no se encuetra registrado en el CMP\", function (value) {\n    var _this = this;\n\n    if (value === undefined || value.length !== 6) return true;\n    var data = {\n      cmp: value\n    };\n    return exists_CMP(data).then(function (data) {\n      console.log(\"API Response:\", {\n        data: data\n      });\n      var success = data.success;\n      return success || _this.createError();\n    }).catch(function (e) {\n      console.log({\n        e: e\n      });\n    });\n  }),\n  dni: yup.string().required().test(\"DNI-MAX-8\", \"El DNI debe tener 8 digitos\", function (value) {\n    if (value === undefined) {\n      return this.createError();\n    }\n\n    return value.length === 8 || this.createError();\n  }).test(\"Validar DNI\", \"El DNI ingresado no se encuetra en la RENIEC\", function (value) {\n    var _this2 = this;\n\n    if (value === undefined || value.length !== 8) return true;\n    var data = {\n      dni: value\n    };\n    return exists_DNI(data).then(function (data) {\n      console.log(\"API Response:\", {\n        data: data\n      });\n      var success = data.success;\n      return success || _this2.createError();\n    }).catch(function (e) {\n      console.log({\n        e: e\n      });\n    });\n  }),\n  centro_salud: yup.string().required(),\n  ubic_centro_salud: yup.string().required()\n});","map":{"version":3,"names":["yup","exists_DNI","exists_CMP","singinValidationScheme","object","shape","nombres","string","required","apellidos","password","confirm_password","email","codigo_doctor","test","value","undefined","createError","length","data","cmp","then","console","log","success","catch","e","dni","centro_salud","ubic_centro_salud"],"sources":["C:/PV4/tdp_mikasa-main/src/validationSchemas/singin.js"],"sourcesContent":["import * as yup from \"yup\";\nimport { exists_DNI } from \"../services/api-dni\";\nimport { exists_CMP } from \"../services/cmp\";\n\nexport const singinValidationScheme = yup.object().shape({\n  nombres: yup.string().required(),\n  apellidos: yup.string().required(),\n  password: yup.string().required(),\n  confirm_password: yup.string().required(),\n  email: yup.string().email().required(),\n  codigo_doctor: yup\n    .string()\n    .required()\n    .test(\"CMP-MAX-8\", \"El CMP debe tener 6 digitos\", function (value) {\n      if (value === undefined) {\n        return this.createError();\n      }\n\n      return value.length === 6 || this.createError();\n    })\n    .test(\n      \"Validar CMP\",\n      \"El codigo ingresado no se encuetra registrado en el CMP\",\n      function (value) {\n        if (value === undefined || value.length !== 6) return true;\n\n        //usando axios\n        const data = {\n          cmp: value,\n        };\n\n        return exists_CMP(data)\n          .then((data) => {\n            console.log(\"API Response:\", { data });\n            const { success } = data;\n            return success || this.createError();\n          })\n          .catch((e) => {\n            console.log({ e });\n          });\n      }\n    ),\n  dni: yup\n    .string()\n    .required()\n    .test(\"DNI-MAX-8\", \"El DNI debe tener 8 digitos\", function (value) {\n      if (value === undefined) {\n        return this.createError();\n      }\n\n      return value.length === 8 || this.createError();\n    })\n    .test(\n      \"Validar DNI\",\n      \"El DNI ingresado no se encuetra en la RENIEC\",\n      function (value) {\n        if (value === undefined || value.length !== 8) return true;\n\n        //usando axios\n        const data = {\n          dni: value,\n        };\n\n        return exists_DNI(data)\n          .then((data) => {\n            console.log(\"API Response:\", { data });\n            const { success } = data;\n            return success || this.createError();\n          })\n          .catch((e) => {\n            console.log({ e });\n          });\n      }\n    ),\n  centro_salud: yup.string().required(),\n  ubic_centro_salud: yup.string().required(),\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}